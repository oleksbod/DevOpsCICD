# Final DevOps Project: –ü–æ–≤–Ω–∞ CI/CD —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º

## üìã –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î –ø–æ–≤–Ω—É DevOps —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—î—é CI/CD, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º —Ç–∞ –±–µ–∑–ø–µ–∫–æ—é. –í–∫–ª—é—á–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è —Å—É—á–∞—Å–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—ñ–≤ —É —Ö–º–∞—Ä—ñ.

### üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   GitHub Repo   ‚îÇ    ‚îÇ   Jenkins CI    ‚îÇ    ‚îÇ   Argo CD       ‚îÇ
‚îÇ                 ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ                 ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   GitOps        ‚îÇ
‚îÇ   Source Code   ‚îÇ    ‚îÇ   Build & Test  ‚îÇ    ‚îÇ   Deployment    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ECR Registry  ‚îÇ    ‚îÇ   EKS Cluster   ‚îÇ    ‚îÇ   RDS Database  ‚îÇ
‚îÇ                 ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ                 ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ                 ‚îÇ
‚îÇ   Docker Images ‚îÇ    ‚îÇ   Kubernetes    ‚îÇ    ‚îÇ   PostgreSQL    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Prometheus    ‚îÇ    ‚îÇ   Grafana       ‚îÇ
‚îÇ   Metrics       ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Dashboards    ‚îÇ
‚îÇ   Collection    ‚îÇ    ‚îÇ   Monitoring    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

### –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

-   **AWS VPC** - —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∞ –º–µ—Ä–µ–∂–∞ –∑ –ø—É–±–ª—ñ—á–Ω–∏–º–∏ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø—ñ–¥–º–µ—Ä–µ–∂–∞–º–∏
-   **EKS** - Kubernetes –∫–ª–∞—Å—Ç–µ—Ä –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
-   **RDS** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Aurora)
-   **ECR** - –ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Ä–µ—î—Å—Ç—Ä Docker –æ–±—Ä–∞–∑—ñ–≤
-   **S3 + DynamoDB** - –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è Terraform —Å—Ç–∞–Ω—É

### CI/CD

-   **Jenkins** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–±—ñ—Ä–∫–∞, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ–ø–ª–æ–π
-   **Argo CD** - GitOps –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
-   **Helm** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Kubernetes –¥–æ–¥–∞—Ç–∫–∞–º–∏

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

-   **Prometheus** - –∑–±—ñ—Ä –º–µ—Ç—Ä–∏–∫ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
-   **Grafana** - –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫ —Ç–∞ –¥–∞—à–±–æ—Ä–¥–∏
-   **Alertmanager** - —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å

### –ë–µ–∑–ø–µ–∫–∞

-   **SAST** - —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É (Bandit)
-   **DAST** - –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏ (OWASP ZAP)
-   **Container Security** - —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—ñ–≤ (Trivy)
-   **IAM** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º —Ç–∞ —Ä–æ–ª—è–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
final-project/
‚îú‚îÄ‚îÄ main.tf                          # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª Terraform
‚îú‚îÄ‚îÄ backend.tf                       # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è S3 backend
‚îú‚îÄ‚îÄ outputs.tf                       # –í–∏–≤–æ–¥–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤
‚îú‚îÄ‚îÄ variables.tf                     # –ó–º—ñ–Ω–Ω—ñ Terraform
‚îú‚îÄ‚îÄ terraform.tfvars                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
‚îú‚îÄ‚îÄ terraform.tfvars.example         # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ modules/                         # Terraform –º–æ–¥—É–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ s3-backend/                  # S3 + DynamoDB
‚îÇ   ‚îú‚îÄ‚îÄ vpc/                         # VPC —Ç–∞ –º–µ—Ä–µ–∂–∞
‚îÇ   ‚îú‚îÄ‚îÄ ecr/                         # ECR —Ä–µ—î—Å—Ç—Ä
‚îÇ   ‚îú‚îÄ‚îÄ eks/                         # EKS –∫–ª–∞—Å—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ rds/                         # RDS –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ jenkins/                     # Jenkins CI
‚îÇ   ‚îú‚îÄ‚îÄ argo_cd/                     # Argo CD GitOps
‚îÇ   ‚îú‚îÄ‚îÄ prometheus/                  # Prometheus –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ grafana/                     # Grafana –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ charts/                          # Helm charts
‚îÇ   ‚îî‚îÄ‚îÄ django-app/                  # Django –¥–æ–¥–∞—Ç–æ–∫
‚îî‚îÄ‚îÄ Django/                          # Django –¥–æ–¥–∞—Ç–æ–∫
    ‚îú‚îÄ‚îÄ app/                         # –ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É
    ‚îú‚îÄ‚îÄ Dockerfile                   # Docker –æ–±—Ä–∞–∑
    ‚îú‚îÄ‚îÄ docker-compose.yml           # –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞
    ‚îú‚îÄ‚îÄ Jenkinsfile                  # CI/CD –ø–∞–π–ø–ª–∞–π–Ω
    ‚îî‚îÄ‚îÄ nginx/                       # Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. **AWS CLI** –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É
2. **Terraform** >= 1.5.0
3. **kubectl** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Kubernetes
4. **Helm** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–∞–º–∏
5. **Docker** –¥–ª—è –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—ñ–≤

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ AWS –ø–æ–ª—ñ—Ç–∏–∫–∏

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": ["s3:*", "dynamodb:*", "ec2:*", "eks:*", "rds:*", "ecr:*", "iam:*"],
            "Resource": "*"
        }
    ]
}
```

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/oleksbod/DevOpsCICD.git
cd DevOpsCICD/final-project
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

```bash
# –ö–æ–ø—ñ—é—î–º–æ –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp terraform.tfvars.example terraform.tfvars

# –†–µ–¥–∞–≥—É—î–º–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
nano terraform.tfvars

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django .env —Ñ–∞–π–ª—É
cd Django
cp env.example .env
nano .env
```

**–û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**

**terraform.tfvars:**

```hcl
# GitHub Configuration
github_token    = "your-github-pat-token"
github_username = "your-github-username"

# RDS Configuration
rds_master_password = "your-secure-password"
```

**Django/.env:**

```bash
# Django Configuration
DEBUG=True
SECRET_KEY=your-django-secret-key

# Database Configuration
DB_NAME=mydb
DB_USER=dbadmin
DB_PASSWORD=your-database-password
DB_HOST=db
DB_PORT=5432

# PostgreSQL Configuration
POSTGRES_DB=mydb
POSTGRES_USER=dbadmin
POSTGRES_PASSWORD=your-database-password
```

### 3. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

```bash
# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform
terraform init

# –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
terraform plan

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω
terraform apply
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è kubectl

```bash
# –û—Ç—Ä–∏–º—É—î–º–æ –∫–æ–º–∞–Ω–¥—É –∑ outputs
terraform output eks_kubeconfig_command

# –í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–º–∞–Ω–¥—É
aws eks update-kubeconfig --region eu-central-1 --name final-project-eks
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ EKS –∫–ª–∞—Å—Ç–µ—Ä–∞

```bash
# –°—Ç–∞—Ç—É—Å –Ω–æ–¥
kubectl get nodes

# –°—Ç–∞—Ç—É—Å –ø–æ–¥—ñ–≤
kubectl get pods -A

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤
kubectl get svc -A
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Jenkins

```bash
# –°—Ç–∞—Ç—É—Å Jenkins
kubectl get pods -n jenkins

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
kubectl -n jenkins get secret jenkins -o jsonpath='{.data.jenkins-admin-password}' | base64 -d

# –î–æ—Å—Ç—É–ø –¥–æ Jenkins UI
kubectl port-forward svc/jenkins 8080:8080 -n jenkins
```

**Jenkins UI:** http://localhost:8080

-   **–õ–æ–≥—ñ–Ω:** admin
-   **–ü–∞—Ä–æ–ª—å:** (–æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤–∏—â–µ)

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Argo CD

```bash
# –°—Ç–∞—Ç—É—Å Argo CD
kubectl get pods -n argocd

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath='{.data.password}' | base64 -d

# –î–æ—Å—Ç—É–ø –¥–æ Argo CD UI
kubectl port-forward svc/argo-cd-argocd-server 8081:443 -n argocd
```

**Argo CD UI:** https://localhost:8081

-   **–õ–æ–≥—ñ–Ω:** admin
-   **–ü–∞—Ä–æ–ª—å:** (–æ—Ç—Ä–∏–º–∞–Ω–∏–π –≤–∏—â–µ)

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Prometheus

```bash
# –°—Ç–∞—Ç—É—Å Prometheus
kubectl get pods -n monitoring

# –î–æ—Å—Ç—É–ø –¥–æ Prometheus UI
kubectl port-forward svc/prometheus-kube-prometheus-prometheus 9090:80 -n monitoring
```

**Prometheus UI:** http://localhost:9090

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Grafana

```bash
# –°—Ç–∞—Ç—É—Å Grafana
kubectl get pods -n monitoring

# –î–æ—Å—Ç—É–ø –¥–æ Grafana UI
kubectl port-forward svc/grafana 3000:80 -n monitoring
```

**Grafana UI:** http://localhost:3000

-   **–õ–æ–≥—ñ–Ω:** admin
-   **–ü–∞—Ä–æ–ª—å:** admin123

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Django –¥–æ–¥–∞—Ç–∫—É

```bash
# –°—Ç–∞—Ç—É—Å –¥–æ–¥–∞—Ç–∫—É
kubectl get pods -l app=django-app

# –°–µ—Ä–≤—ñ—Å–∏
kubectl get svc -l app=django-app

# –õ–æ–≥–∏ –¥–æ–¥–∞—Ç–∫—É
kubectl logs -l app=django-app
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### Prometheus –º–µ—Ç—Ä–∏–∫–∏

–î–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç—É—î –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ `/metrics/` endpoint:

-   **HTTP –∑–∞–ø–∏—Ç–∏** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞ —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
-   **Database –∑'—î–¥–Ω–∞–Ω–Ω—è** - —Å—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
-   **System —Ä–µ—Å—É—Ä—Å–∏** - CPU, –ø–∞–º'—è—Ç—å, –¥–∏—Å–∫
-   **Custom –º–µ—Ç—Ä–∏–∫–∏** - –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –¥–æ–¥–∞—Ç–∫—É

### Grafana –¥–∞—à–±–æ—Ä–¥–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –¥–∞—à–±–æ—Ä–¥–∏:

-   **Kubernetes Cluster Monitoring** (ID: 7249)
-   **Kubernetes Pod Monitoring** (ID: 6417)
-   **Node Exporter Full** (ID: 1860)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–ª–µ—Ä—Ç—ñ–≤

Prometheus –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è:

-   –í–∏—Å–æ–∫–æ–≥–æ CPU –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
-   –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—ñ–≤
-   –ü–æ–º–∏–ª–æ–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
-   –ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—ñ–≤ –ø–∞–º'—è—Ç—ñ

## üîí –ë–µ–∑–ø–µ–∫–∞

### SAST (Static Application Security Testing)

Jenkins –ø–∞–π–ø–ª–∞–π–Ω –≤–∫–ª—é—á–∞—î:

-   **Bandit** - –∞–Ω–∞–ª—ñ–∑ Python –∫–æ–¥—É
-   **Trivy** - —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è Docker –æ–±—Ä–∞–∑—ñ–≤
-   **Gitleaks** - –ø–æ—à—É–∫ —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É –∫–æ–¥—ñ

### DAST (Dynamic Application Security Testing)

-   **OWASP ZAP** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É
-   **Nikto** - –±–∞–∑–æ–≤–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏
-   **Nuclei** - —à–∞–±–ª–æ–Ω–∏ –∞—Ç–∞–∫

### Container Security

-   **Non-root user** - –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–µ –≤—ñ–¥ root
-   **Read-only filesystem** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
-   **Security contexts** - –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤
-   **Image scanning** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π

## üöÄ CI/CD Pipeline

### Jenkins Pipeline –µ—Ç–∞–ø–∏

1. **Checkout** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–¥—É –∑ Git
2. **Build** - –∑–±—ñ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑—É
3. **Security Scan** - SAST –∞–Ω–∞–ª—ñ–∑
4. **Push to ECR** - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±—Ä–∞–∑—É
5. **Update Chart** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Helm chart
6. **Deploy to Staging** - —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ staging
7. **DAST Scan** - –¥–∏–Ω–∞–º—ñ—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
8. **Deploy to Production** - —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

### Argo CD Application

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î:

-   Helm chart –∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
-   –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
-   Rollback –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
-   Health checks

## üìà –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### Horizontal Pod Autoscaler (HPA)

```yaml
minReplicas: 1
maxReplicas: 3
targetCPUUtilizationPercentage: 70
targetMemoryUtilizationPercentage: 80
```

### Vertical Pod Autoscaler (VPA)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î:

-   CPU requests/limits
-   Memory requests/limits
-   –ù–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### RDS PostgreSQL

-   **Engine:** PostgreSQL 15.14
-   **Instance:** db.t3.micro
-   **Storage:** 20GB GP2
-   **Backup:** 7 –¥–Ω—ñ–≤
-   **Encryption:** Enabled

### Aurora (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```hcl
use_aurora = true
aurora_cluster_instances = 2
aurora_auto_pause = true
```

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

### –©–æ–º—ñ—Å—è—á–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ (–ø—Ä–∏–±–ª–∏–∑–Ω–æ)

-   **EKS Cluster:** ~$70
-   **EC2 Instances (2x t3.large):** ~$60
-   **RDS (db.t3.micro):** ~$15
-   **Load Balancers:** ~$20
-   **Storage (EBS):** ~$10
-   **Data Transfer:** ~$5

**–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:** ~$180/–º—ñ—Å—è—Ü—å

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
cd Django
docker-compose up -d
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ Kubernetes

```bash
# –î–µ–ø–ª–æ–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É
helm install django-test ./charts/django-app --namespace test

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
kubectl get pods -n test

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
curl http://localhost:8000/health/
curl http://localhost:8000/metrics/
```

## üîß Troubleshooting

### –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏

#### Jenkins –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ GitHub

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ credentials
kubectl get secret github-token -n jenkins

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ IAM —Ä–æ–ª—ñ
kubectl describe sa jenkins-sa -n jenkins
```

#### Argo CD –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É Application
kubectl get applications -n argocd

# –õ–æ–≥–∏ Argo CD
kubectl logs -n argocd -l app.kubernetes.io/name=argocd-server
```

#### Prometheus –Ω–µ –∑–±–∏—Ä–∞—î –º–µ—Ç—Ä–∏–∫–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ServiceMonitor
kubectl get servicemonitor -A

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Prometheus targets
kubectl port-forward svc/prometheus-kube-prometheus-prometheus 9090:80 -n monitoring
# –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:9090/targets
```

#### Django –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ RDS

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ RDS endpoint
terraform output rds_instance_endpoint

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ security groups
kubectl describe pod django-app-xxx
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

-   [AWS EKS Documentation](https://docs.aws.amazon.com/eks/)
-   [Prometheus Documentation](https://prometheus.io/docs/)
-   [Grafana Documentation](https://grafana.com/docs/)
-   [Jenkins Documentation](https://www.jenkins.io/doc/)
-   [Argo CD Documentation](https://argo-cd.readthedocs.io/)
-   [Terraform AWS Provider](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)

## üë• –ê–≤—Ç–æ—Ä–∏

-   **Oleksandr** - _Initial work_ - [oleksbod](https://github.com/oleksbod)

## üôè –ü–æ–¥—è–∫–∏

-   AWS –∑–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier
-   Prometheus community –∑–∞ –≤—ñ–¥–º—ñ–Ω–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
-   Grafana team –∑–∞ –∫—Ä–∞—Å–∏–≤—ñ –¥–∞—à–±–æ—Ä–¥–∏
-   Jenkins community –∑–∞ CI/CD –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
-   Argo CD team –∑–∞ GitOps —Ä—ñ—à–µ–Ω–Ω—è

---

**–£–í–ê–ì–ê!** –ü—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏–¥–∞–ª—ñ—Ç—å —Ä–µ—Å—É—Ä—Å–∏ –∫–æ–º–∞–Ω–¥–æ—é `terraform destroy` –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç.
